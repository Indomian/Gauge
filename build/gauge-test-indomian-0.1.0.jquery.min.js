/*! gauge-test-indomian 2015-04-07 */
!function(a){function b(a,b){function c(){return parseInt(q,10)}function d(){var a,c=b.ticks,d=[];if("function"==typeof b.ticks&&(c=b.ticks()),c instanceof Array)for(a=0;a<c.length;a++)d.push(c[a]instanceof String?{value:a,label:c[a]}:c[a]);else if("number"==typeof c||c instanceof Number)for(a=1;c>=a;a++)d.push({value:a,label:a});return d}function e(a,b){var c;for(c in b)b.hasOwnProperty(c)&&null!=b[c]&&(a[c]=b[c]);return a}function f(a,b,c,d){var e=document.createElementNS(p,"circle");return e.setAttribute("cx",a),e.setAttribute("cy",b),e.setAttribute("r",c),void 0!=d&&d.appendChild(e),e}function g(a,b,c,d){var e={x:Math.cos(b*n)*a,y:Math.sin(b*n)*a},f={x:Math.cos(c*n)*a,y:Math.sin(c*n)*a},g=document.createElementNS(p,"path");return g.setAttribute("d","M"+e.x+","+e.y+" A"+a+","+a+" 0 "+(c-b>0?1:0)+",1 "+f.x+","+f.y),void 0!=d&&d.appendChild(g),g}function h(a,b,c,d){var e={x:Math.cos(c*n)*a,y:Math.sin(c*n)*a},f={x:Math.cos(c*n)*b,y:Math.sin(c*n)*b},g=document.createElementNS(p,"path");return g.setAttribute("d","M"+e.x+","+e.y+" L"+f.x+","+f.y),void 0!=d&&d.appendChild(g),g}function i(a,b,c,d){var e=document.createElementNS(p,"text"),f={x:Math.cos(b*n)*a,y:Math.sin(b*n)*a};return e.appendChild(document.createTextNode(c)),e.setAttribute("x",f.x),e.setAttribute("y",f.y),e.setAttribute("style","opacity:0"),void 0!=d&&d.appendChild(e),e}b=e({radius:200,padding:40,minValue:0,maxValue:100,startAngle:135,endAngle:405,ticks:5,ticksRadius:210,ticksLength:10,ticksLabelRadius:230,arrowAxisRadius:20,arrowRadius:190,sectors:[{startAngle:225,endAngle:-45}]},b);var j,k,l,m,n=Math.PI/180,o=document.createElementNS("http://www.w3.org/2000/svg","svg"),p=o.namespaceURI,q=a.innerHTML,r=2*(b.radius+b.padding),s=2*(b.radius+b.padding),t=document.createElement("DIV"),u={x:r/2,y:s/2};t.className="gauge-hide",t.innerHTML=q,a.innerHTML="",a.appendChild(t),a.appendChild(o);var v={group:document.createElementNS(p,"g"),ticks:d(),render:function(){for(o.setAttribute("class","gauge"),o.setAttribute("width",r),o.setAttribute("height",s),j=g(b.radius,b.startAngle,b.endAngle,this.group),j.setAttribute("class","gauge-line"),k=0;k<this.ticks.length;k++)l=b.startAngle+(b.endAngle-b.startAngle)/(this.ticks.length-1)*k,this.ticks[k].labelNode=i(b.ticksLabelRadius,l,this.ticks[k].label,this.group),this.ticks[k].tickNode=h(b.ticksRadius,b.ticksRadius+b.ticksLength,l,this.group);for(this.group.setAttribute("transform","translate("+u.x+","+u.y+")"),this.group.setAttribute("class","gauge-group"),o.appendChild(this.group),k=0;k<this.ticks.length;k++)m=this.ticks[k].labelNode.getBBox(),this.ticks[k].labelNode.setAttribute("dx",-m.width/2),this.ticks[k].labelNode.setAttribute("dy",m.height/3),this.ticks[k].labelNode.setAttribute("style","")}},w={group:document.createElementNS(p,"g"),arrow:null,render:function(){f(0,0,b.arrowAxisRadius,this.group),this.arrow=document.createElementNS(p,"path"),this.arrow.setAttribute("d","M0,"+-b.arrowAxisRadius/2+" L"+b.arrowRadius+",0 L0,"+b.arrowAxisRadius/2+" z"),this.group.appendChild(this.arrow),this.group.setAttribute("transform","translate("+u.x+","+u.y+")"),this.group.setAttribute("class","gauge-arrow"),o.appendChild(this.group),this.setValue(c())},setValue:function(a){var c=b.maxValue-b.minValue,d=b.endAngle-b.startAngle;if(0!=c&&0!=d){void 0===a&&(a=0);var e=b.startAngle+d*a/c;this.group.setAttribute("transform"," translate("+u.x+","+u.y+") rotate("+e+")")}}};v.render(),w.render(),this.setValue=function(a){a<b.minValue&&(a=b.minValue),a>b.maxValue&&(a=b.maxValue),w.setValue(a)}}var c=[];a.fn.gauge=function(){var d=arguments[0]||{},e=arguments[1]||void 0;return this.each(function(){var f=a(this);if(void 0!=f.attr("data-gauge-id")){var g=parseInt(f.attr("data-gauge-id"),10);c[g].hasOwnProperty(d)&&"function"==typeof c[g][d]&&c[g][d](e)}else c.push(new b(f[0],d)),f.attr("data-gauge-id",c.length-1)}),this}}(jQuery);